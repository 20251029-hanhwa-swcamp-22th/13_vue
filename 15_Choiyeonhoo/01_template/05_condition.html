<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
  <!--
    * v-show directive
      - CSS의 display 속성을 컨트롤하여 요소를 보이거나, 숨기는 디렉티브
      (숨기다 == 요소는 존재 O, 보이지 않음 (display:none)

    * v-if, v-else-if, v-else directive
      - 조건을 만족하는 경우에만 DOM 요소를 생성
        조건을 만족하지 못하면 DOM 요소 제거
        (요소 생성/제거 == 코드상으로 추가 되었다가 삭제)

    * template 태그
      - 가상 DOM 에서는 태그 역할을 하지만
        실제 DOM으로 해석 될 때는 사라지는 태그

      - 임시로 범위를 지정하는 용도
  -->

  <div id="step1">

    <button @click="changeState">문자열 보이기/숨기기 토글</button>

    <h1 v-show="state">state의 값이 true일 때 보이는 문자열</h1>

  </div>

  <hr>
  <div id="step2">
    <button @click="()=>isTrue = !isTrue">isTrue값 변환</button>
    <div v-if="isTrue">참인 경우 보여지는 영역</div>

    <!-- truthy면 렌더링 된다.-->
    <h3 v-if="truthy">{{truthy}}</h3>
    <!-- falsy면 렌더링 되지 않음-->
    <h3 v-if="falsy">{{falsy}}</h3>
  </div>

  <hr>

  <div id="step3">
    <button @click="setToggle" v-text="str"></button>

    <h1 v-if="str === 'awesome'"> Vue is Awesome!!</h1>
    <h1 v-else-if="str === 'good'"> Vue is soso</h1>
    <h1 v-else>...</h1>

    <button @click="reset">reset</button>

  </div>

  <hr>

  <div id="step4">
    <h1 v-if="isTrue">h1 태그에 v-if</h1>
    <template v-if="isTrue">template 태그에 v-if</template>
  </div>

  <script>

    const {createApp, ref} = Vue;

    createApp({
        name:"v-show test app",
        setup(){
            const state = ref(false);
            const changeState = () => state.value = !state.value;

            return {state, changeState};
        }
    }).mount("#step1");

    createApp({
        name:"v-if test app",
        setup() {
            const isTrue = ref(false);
            const truthy = ref("truthy");  // 내용이 존재하는 문자열은 참으로 판전
            const falsy = ref(""); // 내용이 없는 문자열은 거짓으로 판정

            return {isTrue, truthy, falsy};
        }
    }).mount("#step2");

    createApp({
        name:"v-if/else-if/else test app",
        setup(){
            const options = ["awesome","good","not good"];
            const str = ref(options[0]);

            let count = 0;

            const setToggle = () => {
                const optionIndex = ++count%options.length;
                str.value = options[optionIndex];
            }

            const reset = () => {
                count = 0;
                str.value = options[count];
            }

            return {str, setToggle, reset};
        }
    }).mount("#step3");

    createApp({
        setup() {
            const isTrue = ref(true);

            return { isTrue }
        }
    }).mount("#step4");

  </script>

</body>
</html>